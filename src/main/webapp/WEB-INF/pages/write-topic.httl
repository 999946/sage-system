<!DOCTYPE html>
<html>
#set(TopicPost topic)
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>发帖</title>
$!{allcss}
<style type="text/css">
#topic {
  width: 100%;
	margin: 20px;
}

#title, #content {
  overflow: scroll;
  resize: none;
}

#title {
  width: 67%;
	height: 2em;
  margin-left: 120px;
  padding: 5px;
}

#content, #preview {
  width: 90%;
	min-height: 30em;
}
</style>
</head>
<body>
$!{include("navbar.httl")}
<div class="container background-silver" id="container">
  <h3>撰写帖子</h3>
  #set(action = topic.id ? '/topics/' + topic.id.toString + '/edit' : '/topics/new')
  <form id="topic" action="${action}" method="post">
    <div>
      <input id="title" name="title" placeholder="这里是标题" value="${topic.title}"/>
    </div>
    <ul id="tabs" class="nav nav-tabs">
      <li><a href="#content" data-toggle="tab">写作</a></li>
      <li><a href="#preview" data-toggle="tab">预览</a></li>
    </ul>
    <div class="tab-content">
      <textarea id="content" name="content" class="tab-pane active" placeholder="这里是内容">$!{topic.content}</textarea>
      <div id="preview" class="tab-pane"></div>
    </div>
    <div>
      $!{include("tag-input.httl")}
    </div>
    <button class="btn-submit btn btn-primary pull-right" type="submit">发表</button>
  </form>
</div>
<div class="footer"></div>
$!{includeProto}
$!{alljs}
<script>
  setup(tag_setup, writeTopic_setup)
</script>
</body>
</html>